/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * Variables
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

:root {
  --wiqi-nav-font-size:14pt;

  --wiqi-page-width:800px;
  --wiqi-page-padding:8px;
  --wiqi-side-bar-width:256px;

  --wiqi-monospace-font:'Courier new', Courier, monospace;
  --wiqi-border:1px solid var(--wiqi-text);

  --wiqi-text:#1F271B;
  --wiqi-text-2:#7D5C65;
  --wiqi-bg:#F9ECCC;
  --wiqi-bg-2:#C8C093;
  --wiqi-bg-code:#DDDDDD;
  --wiqi-primary:#2D4F67;
  --wiqi-error:#CC4444;
}

@media (prefers-color-scheme:dark) {
  :root {
    /* Kanagawa theme. */
    --wiqi-text:#DCD7BA;
    --wiqi-text-2:#C8C093;
    --wiqi-bg:#1F1F28;
    --wiqi-bg-2:#666666;
    --wiqi-bg-code:#444444;
    --wiqi-primary:#19647E;
    --wiqi-error:#CC4444;
  }
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * Classes
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

*.bordered {
  border:var(--wiqi-border);
  border-radius:8px;
}

*.text-primary {
  color:var(--wiqi-primary);
}

*.text-error {
  color:var(--wiqi-error);
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * General
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

body {
  text-align:center;
  font-family:Arial, Helvetica, sans-serif;
  background-color:var(--wiqi-bg-2);
  color:var(--wiqi-text);
}

p {
  margin:0px;
}

p + p {
  margin-top:8px;
}

a::after {
  content:'›'
}

a[target="_blank"]::after {
  content:'»';
}

a[href^="#"]::after {
  content:'↓';
}

details {
  padding:4px;
}

details[open] {
  border:1px solid var(--wiqi-text-2);
}

details[open] > summary {
  margin-bottom:8px;
}

summary:hover {
  cursor:pointer;
}

ul, ol {
  margin-top:0px;
}

li {
  margin:8px 0px;
}

code {
  background-color:var(--wiqi-bg-code);
  font-family:var(--wiqi-monospace-font);
}

kbd {
  border:var(--wiqi-border);
  background-color:var(--wiqi-bg-2);
  border-radius:4px;
  padding:0px 2px;
  font-family:var(--wiqi-monospace-font);
  margin:0px 2px;
}

code > pre {
  background-color:var(--wiqi-bg-code);
  font-family:var(--wiqi-monospace-font);
  padding:8px;
  border-radius:8px;
  overflow:auto;
  border:var(--wiqi-border);
}

img {
  padding:4px;
  color:var(--wiqi-error);
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * Navbar
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

body > nav {
  position:fixed;
  top:0;
  left:0;
  z-index:1000;

  width:100%;
  padding-top:var(--wiqi-page-padding);
  padding-bottom:var(--wiqi-page-padding);

  background-color:var(--wiqi-bg);
  border-bottom:var(--wiqi-border);
}

body > nav a {
  font-size:var(--wiqi-nav-font-size);
  text-decoration:none;
}

body > nav a::after {
  content:none;
}

body > nav a + a::before {
  content:'∘ ';
  color:var(--wiqi-text);
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * wiqi-page, wiqi-content, wiqi-side-bar
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

wiqi-page {
  --top-margin:calc(var(--wiqi-nav-font-size) + 3 * var(--wiqi-page-padding));
  --section-width:calc(var(--wiki-page) - 2 * var(--wiqi-page-padding));

  display:none;

  margin:auto;
  margin-top:var(--top-margin);
  padding-bottom:256px;

  background-color:var(--wiqi-bg);
  min-height:95vh;

  overflow:auto;
}

wiqi-page[open] {
  display:block;
}

wiqi-page section {
  max-width:var(--wiqi-page-width);
  margin:auto;

  /* Anchor jump offset. */
  padding-top:var(--top-margin);
  margin-top:calc(-1 * var(--top-margin));

  overflow:auto;
}

wiqi-page section > h1,
wiqi-page section > h2 {
  border-bottom:var(--wiqi-border);
  width:var(--section-width);
  text-align:left;
  margin:var(--wiqi-page-padding);
}

wiqi-page section > h1 {
  text-align:center;
}

wiqi-page section > h2::before {
  content:'§ ';
  color:var(--wiqi-primary);
}

wiqi-page section > details[open] {
  border:none;
}

wiqi-page section > details > summary {
  text-align:left;
  font-size:16pt;
  font-weight:bold;
  margin:var(--wiqi-page-padding);
}

wiqi-page section > details[open] > summary {
  border-bottom:var(--wiqi-border);
  width:var(--section-width);
}

wiqi-page section > figure {
  /* Anchor jump offset. */
  padding-top:var(--top-margin);
  margin-top:calc(-1 * var(--top-margin));
  margin-bottom:64px;
}

wiqi-page section > figure img {
  max-width:95%;
}

wiqi-page section > figure details[open] {
  border:none;
}

wiqi-page section > figure figcaption {
  border:var(--wiqi-border);
  border-radius:8px;

  width:fit-content;
  margin:auto;
  padding:8px;
}

wiqi-content {
  display:block;

  text-align:left;

  float:left;
  width:calc(100% - var(--wiqi-side-bar-width) - 3 * var(--wiqi-page-padding));
  margin-bottom:var(--wiqi-page-padding);

  padding:var(--wiqi-page-padding);
}

wiqi-side-bar {
  display:block;

  float:left;
  margin-bottom:var(--wiqi-page-padding);

  width:var(--wiqi-side-bar-width);
}

@media (width < 600px) {
  wiqi-content,
  wiqi-side-bar {
    float:none;
    margin:auto;
    width:95%;
  }
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * wiqi-profile
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

wiqi-profile {
  display:block;

  border:var(--wiqi-border);
  border-radius:8px;

  width:100%;
  max-width:var(--wiqi-side-bar-width);
  margin:auto;

  overflow:auto;
}

wiqi-profile > img {
  max-width:70%;
  margin-bottom:8px;
}

wiqi-profile table {
  width:100%;
  margin:4px auto;

  border-collapse:collapse;
}

wiqi-profile table td {
  border-top:var(--wiqi-border);

  padding:4px 8px;
  vertical-align:top;

  text-align:right;
  font-style:italic;
}

wiqi-profile table td + td {
  border-left:1px dotted var(--wiqi-text-2);

  text-align:left;
  font-style:normal;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * wiqi-quote
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

wiqi-quote {
  display:block;

  background-color:var(--wiqi-bg-2);
  padding:8px;
  font-family:var(--wiqi-monospace-font);
  border-radius:8px;

  margin-top:8px;
}

wiqi-quote q {
  display:block;

  padding:4px 0px;
}

wiqi-quote q[data-speaker="1"] {
  margin-left:0%;
}

wiqi-quote q[data-speaker="2"] {
  margin-left:15%;
}

wiqi-quote q[data-speaker="3"] {
  margin-left:30%;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * wiqi-link-tree
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

wiqi-link-tree {
  display:block;

  width:100%;
  margin:auto;

  overflow:auto;
}

wiqi-link-tree h2 {
  text-align:right;

  margin-bottom:0px;
  padding:0px 8px;
}

wiqi-link-tree nav {
  text-align:right;

  margin-bottom:16px;
  padding:0px 8px;

  border-right:var(--wiqi-border);
}

wiqi-link-tree nav a {
  display:block;
  text-decoration:none;
  margin-top:4px;
}
